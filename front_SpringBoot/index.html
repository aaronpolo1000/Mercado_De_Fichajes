<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vista con Bootstrap</title>
    <!-- Bootstrap CSS -->
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <!-- Bootstrap JS -->
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <style>
        .sidebar {
            height: 100vh;
            background-color: #f8f9fa;
            padding: 20px;
        }
        .content {
            padding: 20px;
        }
    </style>
</head>
<body>
    <div class="container-fluid">
        <div class="row">
            <!-- Sidebar -->
            <div class="col-md-3 sidebar">
                <h4>Opciones</h4>
                <ul class="nav flex-column">
                    <li class="nav-item">
                        <a class="nav-link" href="#" data-action="add">Agregar</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" data-action="search">Buscar</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" data-action="delete">Eliminar</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" data-action="edit">Editar</a>
                    </li>
                </ul>
            </div>
            <!-- Main Content -->
            <div class="col-md-9 content">
                <div id="main-content">
                    <h2>Buscar</h2><div><input id='idValue' type='text' name='id' placeholder='ID'><button id='submit'>Buscar</button></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        $(document).ready(function() {
            $('.nav-link').on('click', function(event) {
                event.preventDefault();
                var action = $(this).data('action');
                if(action == "add"){
                $('#main-content').html("<h2>Agregar</h2><form><input type='text' name='id' placeholder='ID'><input type='text' name='name' placeholder='Name'><button type='submit'>Agregar</button></form>");
                }
                else if (action=="search"){
                    $('#main-content').html("<h2>Buscar</h2><div><input id='idValue' type='text' name='id' placeholder='ID'><button id='submit'>Buscar</button></div>")
                }
                else if (action=="delete"){
                    $('#main-content').html("<h2>Eliminar</h2><form><input type='text' name='id' placeholder='ID'><button type='submit'>Eliminar</button></form>")
                }
                else if (action=="edit"){
                    $('#main-content').html("<h2>Editar</h2><form><input type='text' name='id' placeholder='ID'><input type='text' name='name' placeholder='Name'><button type='submit'>Editar</button></form>")
                }
            });
        });
            $('#submit').on('click', function() {
                var id = $('#idValue').val();
                
                // Validate if the ID is not empty
                if (id.trim() === '') {
                    $('#response').html('<p class="text-danger">ID cannot be empty.</p>');
                    return;
                }
                console.log("a");

                $.ajax({
                    url: `http://localhost:8080/api/users/${encodeURIComponent(id)}`, // Adjust URL to your endpoint
                    
                    method: 'GET',
                    success: function(response) {
                        // Assuming response is a string or HTML content
                        console.log(response)
                    },
                    error: function(xhr, status, error) {
                        $('#response').html('<p class="text-danger">Error: ' + error + '</p>');
                    }
                });
            });
    </script>
</body>
</html>